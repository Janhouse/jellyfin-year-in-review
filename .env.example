# Jellyfin Year in Review - Environment Configuration
# Copy this file to .env.local and fill in your values

# =============================================================================
# AUTHENTICATION (Required)
# =============================================================================

# Secret key for JWT signing - generate with: openssl rand -hex 32
BETTER_AUTH_SECRET=your-secret-key-here

# Base URL for authentication callbacks
BETTER_AUTH_URL=http://localhost:3000

# Authentik OAuth2/OIDC credentials
AUTHENTIK_CLIENT_ID=your-client-id
AUTHENTIK_CLIENT_SECRET=your-client-secret

# Authentik OpenID Connect issuer URL
# Usually: https://your-authentik.com/application/o/your-app-slug/
AUTH_AUTHENTIK_ISSUER=https://auth.example.com/application/o/jellyfin-review/

# =============================================================================
# AUTHENTIK API (Required for admin features and user lookups)
# =============================================================================

# Authentik base URL for API calls
AUTHENTIK_URL=https://auth.example.com

# Authentik API token (create in Directory > Tokens and App passwords)
AUTHENTIK_API_TOKEN=your-api-token

# Authentik group containing Jellyfin users (default: Jellyfin)
# AUTHENTIK_JELLYFIN_GROUP=Jellyfin

# Custom attribute names (if different from defaults)
# AUTHENTIK_JELLYFIN_USERNAME_ATTRIBUTE=jellyfin_username
# AUTHENTIK_JELLYFIN_TIMEZONE_ATTRIBUTE=jellyfin_timezone

# =============================================================================
# TMDB (Required)
# =============================================================================

# The Movie Database API key
# Get yours at: https://www.themoviedb.org/settings/api
TMDB_API_KEY=your-tmdb-api-key

# =============================================================================
# PUBLIC URLs (Client-side)
# =============================================================================

# Application base URL (used in emails and sharing)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Jellyfin server URL (for "Watch in Jellyfin" links)
NEXT_PUBLIC_JELLYFIN_URL=https://jellyfin.example.com

# Jellyfin server ID (for deep links to items)
# Find in Jellyfin Dashboard > Server > General
# NEXT_PUBLIC_JELLYFIN_SERVER_ID=

# Overseerr/Jellyseerr URL (for "Request" links on unavailable items)
# NEXT_PUBLIC_SEER_URL=https://jellyseerr.example.com

# =============================================================================
# DATABASE
# =============================================================================

# Directory containing Jellyfin databases (jellyfin.db and playback_reporting.db)
# DB_DIR=./db

# Set to true if databases are mounted read-only (copies to temp directory)
# DB_COPY=false

# Cron schedule for refreshing database copies (if DB_COPY=true)
# DB_REFRESH_CRON=0 */3 * * *

# =============================================================================
# DEVELOPMENT
# =============================================================================

# Allowed dev origins for Next.js (comma-separated)
# ALLOWED_DEV_ORIGINS=localhost:*,your-domain.example.com

# =============================================================================
# TIMEZONE
# =============================================================================

# Default timezone for statistics (IANA timezone name)
# Examples: Europe/London, America/New_York, Asia/Tokyo
TIMEZONE=Europe/Riga

# System timezone (optional, for container configuration)
TZ=Europe/Riga

# =============================================================================
# EMAIL (Optional - for admin email notifications)
# =============================================================================

# SMTP server configuration
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password

# Email addresses
# SMTP_FROM="Year in Review <noreply@example.com>"
# SMTP_REPLY_TO=support@example.com

# =============================================================================
# ANALYTICS (Optional)
# =============================================================================

# Umami analytics
# NEXT_PUBLIC_UMAMI_WEBSITE_ID=your-website-id
# NEXT_PUBLIC_UMAMI_SRC=https://umami.example.com/script.js
